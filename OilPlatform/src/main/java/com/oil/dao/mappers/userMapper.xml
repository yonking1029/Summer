<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oil.dao.mappers.UserMapper">
    <select id="findByParams"
            parameterType="com.oil.dao.entitys.User"
            resultType="com.oil.dao.entitys.User" >
        <![CDATA[
            select
                *
            from
                user
        ]]>
        <where>
            <if test="id != null">and id = #{id}</if>
            <if test="name != null">and name LIKE concat(concat('%',#{name}),'%')</if>
        </where>
        
    </select>
    <update id="updateUser" parameterType="com.oil.dao.entitys.User">
           update user set
           <trim prefix="set" suffixOverrides=","> 
	           <if test="name != null">
	               name = #{name},
	           </if> 
	           <if test="password != null">
	               height = #{height},
	           </if> 
	           <if test="age != null">
	               age = #{age},
	           </if> 
           </trim>
           <where>
               id = #{id}
           </where>
	</update>
	<if test="pojo.begintime!=null and pojo.begintime!=''">
	<!-- <![CDATA[and DATE_FORMAT(tr.summary_date, '%Y-%m-%d')>=  DATE_FORMAT(#{pojo.begintime}, '%Y-%m-%d')]]>
	</if>
	<if test="pojo.endtime!=null and pojo.endtime!=''">
	<![CDATA[and DATE_FORMAT(tr.summary_date, '%Y-%m-%d') <= DATE_FORMAT(#{pojo.endtime}, '%Y-%m-%d')]]>
	</if> -->
</mapper>